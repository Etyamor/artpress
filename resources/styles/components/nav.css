/* Nav open state (toggled via JS) */

.site-nav.open {
  @apply opacity-100 visible;
}

/* WordPress menu output */

.header-menu {
  @apply list-none m-0 p-0;
  @apply flex flex-col px-6 pt-4;
}

@media (min-width: 1024px) {
  .header-menu {
    @apply flex-row items-center gap-1 px-0 pt-0;
  }
}

.header-menu > li {
  @apply relative;
}

.header-menu > li > a {
  @apply block py-3 text-base font-medium text-foreground-secondary no-underline transition-colors;
  @apply border-b border-border-subtle;
}

@media (min-width: 1024px) {
  .header-menu > li > a {
    @apply py-2 px-3 text-sm border-none rounded-md;
  }
}

.header-menu > li > a:hover {
  @apply text-accent;
}

@media (min-width: 1024px) {
  .header-menu > li > a:hover {
    @apply bg-accent-subtle;
  }
}

.header-menu > li.current-menu-item > a,
.header-menu > li.current-menu-ancestor > a {
  @apply text-accent-hover;
}

/* Parent item chevron */

.header-menu > li.menu-item-has-children > a {
  @apply flex items-center gap-1.5;
}

.header-menu > li.menu-item-has-children > a::after {
  font-family: var(--fa-family-classic);
  font-weight: 900;
  content: '\f078';
  @apply text-[0.6rem] opacity-50 transition-transform duration-150;
}

@media (min-width: 1024px) {
  .header-menu > li.menu-item-has-children:hover > a::after {
    @apply rotate-180 opacity-75;
  }
}

/* Sub-menu â€” mobile: indented; desktop: dropdown */

.header-menu .sub-menu {
  @apply list-none m-0 p-0 pl-4 flex flex-col;
}

.header-menu .sub-menu li a {
  @apply block px-3 py-2 text-sm text-foreground-muted no-underline rounded-md transition-colors;
}

@media (min-width: 1024px) {
  .header-menu .sub-menu {
    @apply p-1 absolute left-0 top-full min-w-48 bg-white border border-border rounded-lg shadow-lg;
    @apply opacity-0 invisible translate-y-1 transition-all duration-150 ease-in-out;
  }

  .header-menu > li:hover > .sub-menu {
    @apply opacity-100 visible translate-y-0;
  }
}

.header-menu .sub-menu li a:hover {
  @apply text-accent;
}

@media (min-width: 1024px) {
  .header-menu .sub-menu li a:hover {
    @apply bg-accent-subtle;
  }
}

.header-menu .sub-menu li.current-menu-item > a {
  @apply text-accent-hover;
}

/* Burger icon toggle (JS state) */

.burger-button .close-icon {
  @apply hidden;
}

.burger-button.menu-open .burger-icon {
  @apply hidden;
}

.burger-button.menu-open .close-icon {
  @apply block;
}

/* Post tags (WP output from the_tags()) */

[rel="tag"] {
  @apply inline-block px-3 py-1 text-xs font-medium text-foreground-secondary no-underline
         bg-background border border-border rounded-full transition-colors;
}

[rel="tag"]:hover {
  @apply bg-accent-subtle text-accent border-accent;
}
